<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>FileReaderTest</title>
</head>
<body>
<input type="file" id="fileCtrl" accept="image/*">
<img src="" id="preview" alt="" style="display:block">
<script>
	fileCtrl.onchange = function(){
		var file = this.files[0];
		if(!/image\/\w+/.test(file.type)){
            alert('不是图片');
			return false;
		}
        var reader = new FileReader();
		reader.readAsDataURL(file);
		reader.onload = function(e){
			preview.src = this.result;
        }

	}
</script>
</body>
</html>